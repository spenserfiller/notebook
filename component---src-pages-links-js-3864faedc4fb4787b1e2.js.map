{"version":3,"sources":["webpack:///./src/pages/links.js"],"names":["LinksIndex","data","location","siteTitle","site","siteMetadata","title","linkFiles","allMarkdownRemark","edges","decodeHtmlEntities","text","entities","replace","match","allLinks","forEach","node","date","frontmatter","category","html","links","matchAll","liContent","linkMatch","url","firstLinkEnd","indexOf","afterLink","substring","trim","description","push","parseLinks","link","style","marginBottom","rhythm","map","index","domain","URL","hostname","e","key","display","gap","flexShrink","marginTop","src","alt","width","height","margin","borderRadius","onError","target","flex","minWidth","href","rel","boxShadow","marginLeft","color","dangerouslySetInnerHTML","__html","pageQuery"],"mappings":"skCAoKeA,UA7JI,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SACpBC,EAAYF,EAAKG,KAAKC,aAAaC,MACnCC,EAAYN,EAAKO,kBAAkBC,MAGnCC,EAAqB,SAACC,GAE1B,IAAMC,EAAW,CACf,SAAU,IACV,QAAS,IACT,OAAQ,IACR,OAAQ,IACR,SAAU,IACV,QAAS,IACT,SAAU,KAGZ,OAAOD,EAAKE,QAAQ,+CAA+C,SAACC,GAAD,OAAWF,EAASE,IAAUA,MAyC7FC,EAAW,GAYjB,OAXAR,EAAUS,SAAQ,YAAe,IAAZC,EAAW,EAAXA,KACbC,EAAOD,EAAKE,YAAYD,KACxBE,EAAWH,EAAKE,YAAYb,OAvCjB,SAACe,GAOlB,IANA,IAMA,EANMC,EAAQ,GAMd,IAFgBD,EAAKE,SADL,4BAGhB,aAA6B,CAAC,IACtBC,EADqB,QACH,GAGlBC,EAAYD,EAAUV,MAAM,uCAClC,GAAIW,EAAW,CACb,IAAMC,EAAMD,EAAU,GAEhBnB,EAAQI,EAAmBe,EAAU,IAGrCE,EAAeH,EAAUI,QAAQ,QAAU,EAC7CC,EAAYL,EAAUM,UAAUH,GAAcI,OAO5CC,EAJNH,EAAYA,EAAUhB,QAAQ,YAAa,IAAIkB,OAM/CT,EAAMW,KAAK,CAAEP,MAAKpB,QAAO0B,iBAI7B,OAAOV,GAUOY,CAAWjB,EAAKI,MACxBL,SAAQ,SAAAmB,GACZpB,EAASkB,KAAT,iBAAmBE,EAAnB,CAAyBjB,OAAME,oBAKjC,kBAAC,IAAD,CAAQlB,SAAUA,EAAUI,MAAOH,GACjC,kBAAC,IAAD,CAAKG,MAAM,UACX,uBAAG8B,MAAO,CAAEC,aAAcC,YAAO,OAAjC,8EAGCvB,EAASwB,KAAI,SAACJ,EAAMK,GAEnB,IAAIC,EAAS,GACb,IAEEA,EADY,IAAIC,IAAIP,EAAKT,KACZiB,SACb,MAAOC,GAEPH,EAASN,EAAKT,IAGhB,OACE,6BACEmB,IAAKL,EACLJ,MAAO,CACLC,aAAcC,YAAO,KACrBQ,QAAS,OACTC,IAAKT,YAAO,OAGd,yBACEF,MAAO,CACLY,WAAY,EACZC,UAAWX,YAAO,OAGpB,yBACEY,IAAG,6CAA+CT,EAA/C,SACHU,IAAI,GACJf,MAAO,CACLgB,MAAO,OACPC,OAAQ,OACRC,OAAQ,EACRC,aAAc,OAEhBC,QAAS,SAACZ,GAERA,EAAEa,OAAOrB,MAAMU,QAAU,WAI/B,yBAAKV,MAAO,CAAEsB,KAAM,EAAGC,SAAU,IAC/B,gCACE,wBACEvB,MAAO,CACLC,aAAcC,YAAO,EAAI,GACzBW,UAAW,IAGb,uBACEW,KAAMzB,EAAKT,IACX+B,OAAO,SACPI,IAAI,sBACJzB,MAAO,CAAE0B,UAAU,SAElB3B,EAAK7B,MANR,OASF,+BAAQ6B,EAAKjB,MACZiB,EAAKf,UACJ,2BAAOgB,MAAO,CAAE2B,WAAYzB,YAAO,IAAM0B,MAAO,SAAhD,KACK7B,EAAKf,WAIbe,EAAKH,aACJ,iCACE,uBACEI,MAAO,CAAEa,UAAWX,YAAO,KAC3B2B,wBAAyB,CAAEC,OAAQ/B,EAAKH,uBAcrD,IAAMmC,EAAS","file":"component---src-pages-links-js-3864faedc4fb4787b1e2.js","sourcesContent":["import React from \"react\";\nimport { graphql } from \"gatsby\";\n\nimport Layout from \"../components/layout\";\nimport SEO from \"../components/seo\";\nimport { rhythm } from \"../utils/typography\";\n\nconst LinksIndex = ({ data, location }) => {\n  const siteTitle = data.site.siteMetadata.title;\n  const linkFiles = data.allMarkdownRemark.edges;\n\n  // Helper function to decode HTML entities\n  const decodeHtmlEntities = (text) => {\n    // Simple regex-based decoder for common HTML entities\n    const entities = {\n      '&#x26;': '&',\n      '&amp;': '&',\n      '&lt;': '<',\n      '&gt;': '>',\n      '&quot;': '\"',\n      '&#39;': \"'\",\n      '&apos;': \"'\",\n    };\n    \n    return text.replace(/&#x26;|&amp;|&lt;|&gt;|&quot;|&#39;|&apos;/g, (match) => entities[match] || match);\n  };\n\n  // Parse links from HTML (rendered markdown)\n  // Expected format: <li><a href=\"url\">title</a> - description (with possible embedded links)</li>\n  const parseLinks = (html) => {\n    const links = [];\n    \n    // Match list items with links\n    const liRegex = /<li>(.*?)<\\/li>/gs;\n    const matches = html.matchAll(liRegex);\n    \n    for (const match of matches) {\n      const liContent = match[1];\n      \n      // Extract the first link (the main link)\n      const linkMatch = liContent.match(/<a\\s+href=\"([^\"]+)\"[^>]*>(.*?)<\\/a>/);\n      if (linkMatch) {\n        const url = linkMatch[1];\n        // Decode HTML entities in the title\n        const title = decodeHtmlEntities(linkMatch[2]);\n        \n        // Extract description (everything after the first link)\n        const firstLinkEnd = liContent.indexOf('</a>') + 4;\n        let afterLink = liContent.substring(firstLinkEnd).trim();\n        \n        // Remove leading dash or hyphen\n        afterLink = afterLink.replace(/^[-–—]\\s*/, '').trim();\n        \n        // The description can contain HTML (including other links) which is fine\n        // We'll render it as dangerouslySetInnerHTML to preserve embedded links\n        const description = afterLink;\n        \n        links.push({ url, title, description });\n      }\n    }\n    \n    return links;\n  };\n\n  // Collect all links from all files with their dates\n  const allLinks = [];\n  linkFiles.forEach(({ node }) => {\n    const date = node.frontmatter.date;\n    const category = node.frontmatter.title;\n    \n    // Parse links from HTML\n    const links = parseLinks(node.html);\n    links.forEach(link => {\n      allLinks.push({ ...link, date, category });\n    });\n  });\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <SEO title=\"Links\" />\n      <p style={{ marginBottom: rhythm(1.5) }}>\n        A collection of interesting links and resources I've found around the web.\n      </p>\n      {allLinks.map((link, index) => {\n        // Extract domain for favicon\n        let domain = '';\n        try {\n          const url = new URL(link.url);\n          domain = url.hostname;\n        } catch (e) {\n          // If URL parsing fails, use the link as-is\n          domain = link.url;\n        }\n\n        return (\n          <article \n            key={index} \n            style={{ \n              marginBottom: rhythm(1.5),\n              display: 'flex',\n              gap: rhythm(0.75),\n            }}\n          >\n            <div\n              style={{\n                flexShrink: 0,\n                marginTop: rhythm(0.25),\n              }}\n            >\n              <img\n                src={`https://www.google.com/s2/favicons?domain=${domain}&sz=32`}\n                alt=\"\"\n                style={{\n                  width: '20px',\n                  height: '20px',\n                  margin: 0,\n                  borderRadius: '2px',\n                }}\n                onError={(e) => {\n                  // Fallback to a simple icon if favicon fails\n                  e.target.style.display = 'none';\n                }}\n              />\n            </div>\n            <div style={{ flex: 1, minWidth: 0 }}>\n              <header>\n                <h3\n                  style={{\n                    marginBottom: rhythm(1 / 4),\n                    marginTop: 0,\n                  }}\n                >\n                  <a\n                    href={link.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    style={{ boxShadow: `none` }}\n                  >\n                    {link.title} →\n                  </a>\n                </h3>\n                <small>{link.date}</small>\n                {link.category && (\n                  <small style={{ marginLeft: rhythm(0.5), color: '#666' }}>\n                    · {link.category}\n                  </small>\n                )}\n              </header>\n              {link.description && (\n                <section>\n                  <p \n                    style={{ marginTop: rhythm(0.5) }}\n                    dangerouslySetInnerHTML={{ __html: link.description }}\n                  />\n                </section>\n              )}\n            </div>\n          </article>\n        );\n      })}\n    </Layout>\n  );\n};\n\nexport default LinksIndex;\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n      filter: { fields: { collection: { eq: \"links\" } } }\n    ) {\n      edges {\n        node {\n          html\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n          }\n        }\n      }\n    }\n  }\n`;\n\n"],"sourceRoot":""}