{"version":3,"file":"component---src-pages-links-js-234fec208dad2f1b5dfc.js","mappings":"4JAoKA,UA7JmBA,IAAyB,IAAxB,KAAEC,EAAI,SAAEC,GAAUF,EACpC,MAAMG,EAAYF,EAAKG,KAAKC,aAAaC,MACnCC,EAAYN,EAAKO,kBAAkBC,MAGnCC,EAAsBC,IAE1B,MAAMC,EAAW,CACf,SAAU,IACV,QAAS,IACT,OAAQ,IACR,OAAQ,IACR,SAAU,IACV,QAAS,IACT,SAAU,KAGZ,OAAOD,EAAKE,QAAQ,8CAAgDC,GAAUF,EAASE,IAAUA,IAyC7FC,EAAW,GAYjB,OAXAR,EAAUS,QAAQC,IAAe,IAAd,KAAEC,GAAMD,EACzB,MAAME,EAAOD,EAAKE,YAAYD,KACxBE,EAAWH,EAAKE,YAAYd,MAvChBgB,KAClB,MAAMC,EAAQ,GAIRC,EAAUF,EAAKG,SADL,qBAGhB,IAAK,MAAMX,KAASU,EAAS,CAC3B,MAAME,EAAYZ,EAAM,GAGlBa,EAAYD,EAAUZ,MAAM,uCAClC,GAAIa,EAAW,CACb,MAAMC,EAAMD,EAAU,GAEhBrB,EAAQI,EAAmBiB,EAAU,IAGrCE,EAAeH,EAAUI,QAAQ,QAAU,EACjD,IAAIC,EAAYL,EAAUM,UAAUH,GAAcI,OAGlDF,EAAYA,EAAUlB,QAAQ,YAAa,IAAIoB,OAI/C,MAAMC,EAAcH,EAEpBR,EAAMY,KAAK,CAAEP,MAAKtB,QAAO4B,eAC3B,CACF,CAEA,OAAOX,GAUOa,CAAWlB,EAAKI,MACxBN,QAAQqB,IACZtB,EAASoB,KAAK,IAAKE,EAAMlB,OAAME,iBAKjCiB,EAAAA,cAACC,EAAAA,EAAM,CAACrC,SAAUA,EAAUI,MAAOH,GACjCmC,EAAAA,cAACE,EAAAA,EAAG,CAAClC,MAAM,UACXgC,EAAAA,cAAA,KAAGG,MAAO,CAAEC,cAAcC,EAAAA,EAAAA,IAAO,OAAQ,8EAGxC5B,EAAS6B,IAAI,CAACP,EAAMQ,KAEnB,IAAIC,EAAS,GACb,IAEEA,EADY,IAAIC,IAAIV,EAAKT,KACZoB,QACf,CAAE,MAAOC,GAEPH,EAAST,EAAKT,GAChB,CAEA,OACEU,EAAAA,cAAA,WACEY,IAAKL,EACLJ,MAAO,CACLC,cAAcC,EAAAA,EAAAA,IAAO,KACrBQ,QAAS,OACTC,KAAKT,EAAAA,EAAAA,IAAO,OAGdL,EAAAA,cAAA,OACEG,MAAO,CACLY,WAAY,EACZC,WAAWX,EAAAA,EAAAA,IAAO,OAGpBL,EAAAA,cAAA,OACEiB,IAAK,6CAA6CT,UAClDU,IAAI,GACJf,MAAO,CACLgB,MAAO,OACPC,OAAQ,OACRC,OAAQ,EACRC,aAAc,OAEhBC,QAAUZ,IAERA,EAAEa,OAAOrB,MAAMU,QAAU,WAI/Bb,EAAAA,cAAA,OAAKG,MAAO,CAAEsB,KAAM,EAAGC,SAAU,IAC/B1B,EAAAA,cAAA,cACEA,EAAAA,cAAA,MACEG,MAAO,CACLC,cAAcC,EAAAA,EAAAA,IAAO,EAAI,GACzBW,UAAW,IAGbhB,EAAAA,cAAA,KACE2B,KAAM5B,EAAKT,IACXkC,OAAO,SACPI,IAAI,sBACJzB,MAAO,CAAE0B,UAAW,SAEnB9B,EAAK/B,MAAM,OAGhBgC,EAAAA,cAAA,aAAQD,EAAKlB,MACZkB,EAAKhB,UACJiB,EAAAA,cAAA,SAAOG,MAAO,CAAE2B,YAAYzB,EAAAA,EAAAA,IAAO,IAAM0B,MAAO,SAAU,KACrDhC,EAAKhB,WAIbgB,EAAKH,aACJI,EAAAA,cAAA,eACEA,EAAAA,cAAA,KACEG,MAAO,CAAEa,WAAWX,EAAAA,EAAAA,IAAO,KAC3B2B,wBAAyB,CAAEC,OAAQlC,EAAKH,qB","sources":["webpack://notebook/./src/pages/links.js"],"sourcesContent":["import React from \"react\";\nimport { graphql } from \"gatsby\";\n\nimport Layout from \"../components/layout\";\nimport SEO from \"../components/seo\";\nimport { rhythm } from \"../utils/typography\";\n\nconst LinksIndex = ({ data, location }) => {\n  const siteTitle = data.site.siteMetadata.title;\n  const linkFiles = data.allMarkdownRemark.edges;\n\n  // Helper function to decode HTML entities\n  const decodeHtmlEntities = (text) => {\n    // Simple regex-based decoder for common HTML entities\n    const entities = {\n      '&#x26;': '&',\n      '&amp;': '&',\n      '&lt;': '<',\n      '&gt;': '>',\n      '&quot;': '\"',\n      '&#39;': \"'\",\n      '&apos;': \"'\",\n    };\n    \n    return text.replace(/&#x26;|&amp;|&lt;|&gt;|&quot;|&#39;|&apos;/g, (match) => entities[match] || match);\n  };\n\n  // Parse links from HTML (rendered markdown)\n  // Expected format: <li><a href=\"url\">title</a> - description (with possible embedded links)</li>\n  const parseLinks = (html) => {\n    const links = [];\n    \n    // Match list items with links\n    const liRegex = /<li>(.*?)<\\/li>/gs;\n    const matches = html.matchAll(liRegex);\n    \n    for (const match of matches) {\n      const liContent = match[1];\n      \n      // Extract the first link (the main link)\n      const linkMatch = liContent.match(/<a\\s+href=\"([^\"]+)\"[^>]*>(.*?)<\\/a>/);\n      if (linkMatch) {\n        const url = linkMatch[1];\n        // Decode HTML entities in the title\n        const title = decodeHtmlEntities(linkMatch[2]);\n        \n        // Extract description (everything after the first link)\n        const firstLinkEnd = liContent.indexOf('</a>') + 4;\n        let afterLink = liContent.substring(firstLinkEnd).trim();\n        \n        // Remove leading dash or hyphen\n        afterLink = afterLink.replace(/^[-–—]\\s*/, '').trim();\n        \n        // The description can contain HTML (including other links) which is fine\n        // We'll render it as dangerouslySetInnerHTML to preserve embedded links\n        const description = afterLink;\n        \n        links.push({ url, title, description });\n      }\n    }\n    \n    return links;\n  };\n\n  // Collect all links from all files with their dates\n  const allLinks = [];\n  linkFiles.forEach(({ node }) => {\n    const date = node.frontmatter.date;\n    const category = node.frontmatter.title;\n    \n    // Parse links from HTML\n    const links = parseLinks(node.html);\n    links.forEach(link => {\n      allLinks.push({ ...link, date, category });\n    });\n  });\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <SEO title=\"Links\" />\n      <p style={{ marginBottom: rhythm(1.5) }}>\n        A collection of interesting links and resources I've found around the web.\n      </p>\n      {allLinks.map((link, index) => {\n        // Extract domain for favicon\n        let domain = '';\n        try {\n          const url = new URL(link.url);\n          domain = url.hostname;\n        } catch (e) {\n          // If URL parsing fails, use the link as-is\n          domain = link.url;\n        }\n\n        return (\n          <article \n            key={index} \n            style={{ \n              marginBottom: rhythm(1.5),\n              display: 'flex',\n              gap: rhythm(0.75),\n            }}\n          >\n            <div\n              style={{\n                flexShrink: 0,\n                marginTop: rhythm(0.25),\n              }}\n            >\n              <img\n                src={`https://www.google.com/s2/favicons?domain=${domain}&sz=32`}\n                alt=\"\"\n                style={{\n                  width: '20px',\n                  height: '20px',\n                  margin: 0,\n                  borderRadius: '2px',\n                }}\n                onError={(e) => {\n                  // Fallback to a simple icon if favicon fails\n                  e.target.style.display = 'none';\n                }}\n              />\n            </div>\n            <div style={{ flex: 1, minWidth: 0 }}>\n              <header>\n                <h3\n                  style={{\n                    marginBottom: rhythm(1 / 4),\n                    marginTop: 0,\n                  }}\n                >\n                  <a\n                    href={link.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    style={{ boxShadow: `none` }}\n                  >\n                    {link.title} →\n                  </a>\n                </h3>\n                <small>{link.date}</small>\n                {link.category && (\n                  <small style={{ marginLeft: rhythm(0.5), color: '#666' }}>\n                    · {link.category}\n                  </small>\n                )}\n              </header>\n              {link.description && (\n                <section>\n                  <p \n                    style={{ marginTop: rhythm(0.5) }}\n                    dangerouslySetInnerHTML={{ __html: link.description }}\n                  />\n                </section>\n              )}\n            </div>\n          </article>\n        );\n      })}\n    </Layout>\n  );\n};\n\nexport default LinksIndex;\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(\n      sort: { frontmatter: { date: DESC } }\n      filter: { fields: { collection: { eq: \"links\" } } }\n    ) {\n      edges {\n        node {\n          html\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n          }\n        }\n      }\n    }\n  }\n`;\n\n"],"names":["_ref","data","location","siteTitle","site","siteMetadata","title","linkFiles","allMarkdownRemark","edges","decodeHtmlEntities","text","entities","replace","match","allLinks","forEach","_ref2","node","date","frontmatter","category","html","links","matches","matchAll","liContent","linkMatch","url","firstLinkEnd","indexOf","afterLink","substring","trim","description","push","parseLinks","link","React","Layout","SEO","style","marginBottom","rhythm","map","index","domain","URL","hostname","e","key","display","gap","flexShrink","marginTop","src","alt","width","height","margin","borderRadius","onError","target","flex","minWidth","href","rel","boxShadow","marginLeft","color","dangerouslySetInnerHTML","__html"],"sourceRoot":""}